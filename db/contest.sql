/*
Navicat MySQL Data Transfer

Source Server         : lampp
Source Server Version : 50625
Source Host           : localhost:3306
Source Database       : contest

Target Server Type    : MYSQL
Target Server Version : 50625
File Encoding         : 65001

Date: 2015-11-24 20:00:22
*/

SET FOREIGN_KEY_CHECKS=0;

-- ----------------------------
-- Table structure for `admin`
-- ----------------------------
DROP TABLE IF EXISTS `admin`;
CREATE TABLE `admin` (
  `admin_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `admin_user` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `admin_pass` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `admin_name` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `admin_email` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `admin_phone` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`admin_id`,`admin_user`,`admin_email`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- ----------------------------
-- Records of admin
-- ----------------------------
INSERT INTO `admin` VALUES ('1', 'admin', '21232f297a57a5a743894a0e4a801fc3', 'Open Judge Admin', 'sample@example.com', null);

-- ----------------------------
-- Table structure for `bulk_user_package`
-- ----------------------------
DROP TABLE IF EXISTS `bulk_user_package`;
CREATE TABLE `bulk_user_package` (
  `bulk_user_package_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `bulk_user_package_name` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  PRIMARY KEY (`bulk_user_package_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- ----------------------------
-- Records of bulk_user_package
-- ----------------------------

-- ----------------------------
-- Table structure for `bulk_user_rel`
-- ----------------------------
DROP TABLE IF EXISTS `bulk_user_rel`;
CREATE TABLE `bulk_user_rel` (
  `bulk_user_rel_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `user_id` int(10) unsigned NOT NULL,
  `bulk_user_package_id` int(10) unsigned NOT NULL,
  PRIMARY KEY (`bulk_user_rel_id`),
  KEY `bulk_rel_bulk_FK1` (`bulk_user_package_id`),
  KEY `bul_rel_user_FK2` (`user_id`),
  CONSTRAINT `bul_rel_user_FK2` FOREIGN KEY (`user_id`) REFERENCES `user` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `bulk_rel_bulk_FK1` FOREIGN KEY (`bulk_user_package_id`) REFERENCES `bulk_user_package` (`bulk_user_package_id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- ----------------------------
-- Records of bulk_user_rel
-- ----------------------------

-- ----------------------------
-- Table structure for `category`
-- ----------------------------
DROP TABLE IF EXISTS `category`;
CREATE TABLE `category` (
  `category_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `category_name` varchar(100) COLLATE utf8_unicode_ci NOT NULL,
  PRIMARY KEY (`category_id`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- ----------------------------
-- Records of category
-- ----------------------------
INSERT INTO `category` VALUES ('1', 'geometry');
INSERT INTO `category` VALUES ('2', 'greedy');
INSERT INTO `category` VALUES ('3', 'dp');
INSERT INTO `category` VALUES ('4', 'implementation');
INSERT INTO `category` VALUES ('5', 'math');
INSERT INTO `category` VALUES ('6', 'ds');
INSERT INTO `category` VALUES ('7', 'graph');
INSERT INTO `category` VALUES ('8', 'number theory');
INSERT INTO `category` VALUES ('9', 'game theory');

-- ----------------------------
-- Table structure for `clarification`
-- ----------------------------
DROP TABLE IF EXISTS `clarification`;
CREATE TABLE `clarification` (
  `clarification_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `clarification_question` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `clarification_reply` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `clarification_status` tinyint(2) NOT NULL DEFAULT '1',
  `contest_id` int(10) unsigned NOT NULL,
  `user_id` int(10) unsigned NOT NULL,
  `judge_id` int(10) unsigned NOT NULL,
  `problem_id` int(10) unsigned DEFAULT NULL,
  PRIMARY KEY (`clarification_id`),
  KEY `clar_user_FK1` (`user_id`),
  KEY `clar_judge_FK2` (`judge_id`),
  KEY `clar_prob_FK3` (`problem_id`),
  KEY `clar_cont_FK4` (`contest_id`),
  CONSTRAINT `clar_cont_FK4` FOREIGN KEY (`contest_id`) REFERENCES `contest` (`contest_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `clar_judge_FK2` FOREIGN KEY (`judge_id`) REFERENCES `judge` (`judge_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `clar_prob_FK3` FOREIGN KEY (`problem_id`) REFERENCES `problem` (`problem_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `clar_user_FK1` FOREIGN KEY (`user_id`) REFERENCES `user` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- ----------------------------
-- Records of clarification
-- ----------------------------

-- ----------------------------
-- Table structure for `contest`
-- ----------------------------
DROP TABLE IF EXISTS `contest`;
CREATE TABLE `contest` (
  `contest_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `contest_name` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `contest_type` tinyint(2) NOT NULL DEFAULT '0',
  `contest_pass` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `contest_start` datetime NOT NULL,
  `contest_end` datetime NOT NULL,
  `contest_status` tinyint(2) DEFAULT '-1',
  PRIMARY KEY (`contest_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- ----------------------------
-- Records of contest
-- ----------------------------
INSERT INTO `contest` VALUES ('1', 'SUST IUPC 2015', '1', 'admin', '2015-11-28 09:00:00', '2015-11-28 14:00:00', '-1');
INSERT INTO `contest` VALUES ('2', 'IUT IUPC 2016', '0', null, '2015-11-22 21:30:00', '2015-11-26 21:30:00', '-1');
INSERT INTO `contest` VALUES ('3', 'IST Internal Programming Contest 2015', '1', 'admin', '2015-11-24 21:42:00', '2015-11-28 21:42:00', '-1');
INSERT INTO `contest` VALUES ('4', 'pcIST Beginners Contest', '0', null, '2015-11-24 22:16:00', '2015-11-28 22:16:00', '-1');

-- ----------------------------
-- Table structure for `judge`
-- ----------------------------
DROP TABLE IF EXISTS `judge`;
CREATE TABLE `judge` (
  `judge_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `judge_user` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `judge_pass` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `judge_name` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `judge_email` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `judge_phone` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`judge_id`,`judge_user`,`judge_email`),
  KEY `judge_id` (`judge_id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- ----------------------------
-- Records of judge
-- ----------------------------
INSERT INTO `judge` VALUES ('1', 'judge', '1562eb3f6d9c5ac7e159c04a96ff4dfe', 'Test Judge', 'test@judge.com', '1234567890');

-- ----------------------------
-- Table structure for `judge_cont_rel`
-- ----------------------------
DROP TABLE IF EXISTS `judge_cont_rel`;
CREATE TABLE `judge_cont_rel` (
  `judge_cont_rel_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `judge_id` int(10) unsigned NOT NULL,
  `contest_id` int(10) unsigned NOT NULL,
  PRIMARY KEY (`judge_cont_rel_id`),
  KEY `judge_cont_judge_FK1` (`judge_id`),
  KEY `judge_cont_cont_FK2` (`contest_id`),
  CONSTRAINT `judge_cont_cont_FK2` FOREIGN KEY (`contest_id`) REFERENCES `contest` (`contest_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `judge_cont_judge_FK1` FOREIGN KEY (`judge_id`) REFERENCES `judge` (`judge_id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- ----------------------------
-- Records of judge_cont_rel
-- ----------------------------

-- ----------------------------
-- Table structure for `language`
-- ----------------------------
DROP TABLE IF EXISTS `language`;
CREATE TABLE `language` (
  `language_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `language_name` varchar(50) COLLATE utf8_unicode_ci NOT NULL,
  PRIMARY KEY (`language_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- ----------------------------
-- Records of language
-- ----------------------------

-- ----------------------------
-- Table structure for `prob_cat_rel`
-- ----------------------------
DROP TABLE IF EXISTS `prob_cat_rel`;
CREATE TABLE `prob_cat_rel` (
  `prob_cat_rel_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `category_id` int(10) unsigned NOT NULL,
  `problem_id` int(10) unsigned NOT NULL,
  PRIMARY KEY (`prob_cat_rel_id`),
  KEY `prob_cat_cat_FK1` (`category_id`),
  KEY `prob_cat_prob_FK2` (`problem_id`),
  CONSTRAINT `prob_cat_cat_FK1` FOREIGN KEY (`category_id`) REFERENCES `category` (`category_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `prob_cat_prob_FK2` FOREIGN KEY (`problem_id`) REFERENCES `problem` (`problem_id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=14 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- ----------------------------
-- Records of prob_cat_rel
-- ----------------------------
INSERT INTO `prob_cat_rel` VALUES ('1', '7', '1');
INSERT INTO `prob_cat_rel` VALUES ('2', '5', '1');
INSERT INTO `prob_cat_rel` VALUES ('3', '2', '1');
INSERT INTO `prob_cat_rel` VALUES ('4', '6', '1');
INSERT INTO `prob_cat_rel` VALUES ('5', '8', '1');
INSERT INTO `prob_cat_rel` VALUES ('6', '3', '1');
INSERT INTO `prob_cat_rel` VALUES ('7', '4', '2');
INSERT INTO `prob_cat_rel` VALUES ('8', '7', '2');
INSERT INTO `prob_cat_rel` VALUES ('9', '1', '3');
INSERT INTO `prob_cat_rel` VALUES ('10', '4', '3');
INSERT INTO `prob_cat_rel` VALUES ('11', '1', '4');
INSERT INTO `prob_cat_rel` VALUES ('12', '4', '4');
INSERT INTO `prob_cat_rel` VALUES ('13', '5', '4');

-- ----------------------------
-- Table structure for `prob_cont_rel`
-- ----------------------------
DROP TABLE IF EXISTS `prob_cont_rel`;
CREATE TABLE `prob_cont_rel` (
  `prob_cont_rel_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `problem_id` int(10) unsigned NOT NULL,
  `contest_id` int(10) unsigned NOT NULL,
  PRIMARY KEY (`prob_cont_rel_id`),
  KEY `prob_cont_prob_FK1` (`problem_id`),
  KEY `prob_cont_cont_FK2` (`contest_id`),
  CONSTRAINT `prob_cont_cont_FK2` FOREIGN KEY (`contest_id`) REFERENCES `contest` (`contest_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `prob_cont_prob_FK1` FOREIGN KEY (`problem_id`) REFERENCES `problem` (`problem_id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- ----------------------------
-- Records of prob_cont_rel
-- ----------------------------
INSERT INTO `prob_cont_rel` VALUES ('1', '1', '3');
INSERT INTO `prob_cont_rel` VALUES ('2', '2', '4');
INSERT INTO `prob_cont_rel` VALUES ('3', '2', '1');
INSERT INTO `prob_cont_rel` VALUES ('4', '1', '2');
INSERT INTO `prob_cont_rel` VALUES ('5', '4', '1');
INSERT INTO `prob_cont_rel` VALUES ('6', '3', '3');
INSERT INTO `prob_cont_rel` VALUES ('7', '2', '3');
INSERT INTO `prob_cont_rel` VALUES ('9', '4', '3');
INSERT INTO `prob_cont_rel` VALUES ('10', '4', '2');

-- ----------------------------
-- Table structure for `problem`
-- ----------------------------
DROP TABLE IF EXISTS `problem`;
CREATE TABLE `problem` (
  `problem_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `problem_name` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `problem_level` tinyint(2) DEFAULT NULL,
  `problem_time_limit` int(10) NOT NULL,
  `problem_memory_limit` int(10) NOT NULL,
  `problem_input_channel` varchar(40) COLLATE utf8_unicode_ci DEFAULT NULL,
  `problem_output_channel` varchar(40) COLLATE utf8_unicode_ci DEFAULT NULL,
  `problem_description` longblob NOT NULL,
  `problem_input` blob NOT NULL,
  `problem_output` blob NOT NULL,
  `problem_sample_input` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `problem_sample_output` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `problem_image` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `problem_add_date` datetime NOT NULL,
  `problem_judge_input` blob,
  `problem_judge_output` blob NOT NULL,
  `problem_io_type` tinyint(2) NOT NULL DEFAULT '0',
  `problem_hint` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `problem_setter` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `problem_status` tinyint(2) NOT NULL DEFAULT '0',
  `problem_special_judge` tinyint(2) DEFAULT '0',
  PRIMARY KEY (`problem_id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- ----------------------------
-- Records of problem
-- ----------------------------
INSERT INTO `problem` VALUES ('1', 'Back to Underworld ', null, '4000', '32768', 'Standard Input', 'Standard Output', 0x3C703E5468652056616D706972657320616E64204C796B616E7320617265206669676874696E672065616368206F7468657220746F2064656174682E205468652077617220686173206265636F6D6520736F2066696572636520746861742C206E6F6E65206B6E6F77732077686F2077696C6C2077696E2E205468652068756D616E732077616E7420746F206B6E6F772077686F2077696C6C20737572766976652066696E616C6C792E204275742068756D616E732061726520616672616964206F6620676F696E6720746F2074686520626174746C656669656C642E266E6273703B203C2F703E0D0A3C703E536F2C2074686579206D616465206120706C616E2E205468657920636F6C6C65637465642074686520696E666F726D6174696F6E2066726F6D20746865206E657773706170657273206F662056616D706972657320616E64204C796B616E732E205468657920666F756E642074686520696E666F726D6174696F6E2061626F757420616C6C20746865206475616C206669676874732E204475616C206669676874206D65616E732061206669676874206265747765656E2061204C796B616E20616E6420612056616D706972652E2054686579206B6E6F7720746865206E616D65206F6620746865206475616C2066696768746572732C2062757420646F6E2774206B6E6F77207768696368206F6E65206F66207468656D20697320612056616D70697265206F722061204C796B616E2E3C2F703E0D0A3C703E536F2C207468652068756D616E73206C697374656420616C6C2074686520726976616C732E20546865792077616E7420746F2066696E6420746865206D6178696D756D20706F737369626C65206E756D626572206F662056616D7069726573206F72204C796B616E732E203C2F703E, 0x3C703E496E70757420737461727473207769746820616E20696E7465676572203C7374726F6E673E5420283C2F7374726F6E673E3C7374726F6E673E266C653B203130293C2F7374726F6E673E2C2064656E6F74696E6720746865206E756D626572206F6620746573742063617365732E203C2F703E0D0A3C703E45616368206361736520636F6E7461696E7320616E20696E7465676572203C7374726F6E673E6E20283120266C653B206E20266C653B2031303C7375703E353C2F7375703E293C2F7374726F6E673E2C2064656E6F74696E6720746865206E756D626572206F66206475616C206669676874732E2045616368206F6620746865206E657874203C7374726F6E673E6E3C2F7374726F6E673E206C696E65732077696C6C20636F6E7461696E2074776F20646966666572656E7420696E746567657273203C7374726F6E673E75207620283120266C653B20752C207620266C653B203230303030293C2F7374726F6E673E2064656E6F74696E67207468657265207761732061206669676874206265747765656E203C7374726F6E673E753C2F7374726F6E673E20616E64203C7374726F6E673E763C2F7374726F6E673E2E204E6F20726976616C2077696C6C206265207265706F72746564206D6F7265207468616E206F6E63652E203C2F703E, 0x3C703E466F72206561636820636173652C207072696E74207468652063617365206E756D62657220616E6420746865206D6178696D756D20706F737369626C65206D656D62657273206F6620616E7920726163652E266E6273703B203C2F703E, '2\r\n2\r\n1 2\r\n2 3\r\n3\r\n1 2\r\n2 3\r\n4 2', 'Case 1: 2\r\nCase 2: 3', 'df3c4817f26a67ba11a1eddfc4f00395.jpg', '2015-11-20 05:43:06', 0x320D0A320D0A3120320D0A3220330D0A330D0A3120320D0A3220330D0A342032, 0x4361736520313A20320D0A4361736520323A2033, '0', '<p>Dataset is huge, use faster I/O methods.</p>', 'Jane Alam Jan ', '0', '0');
INSERT INTO `problem` VALUES ('2', 'Rider (LightOJ 1046)', null, '1000', '32768', 'Standard Input', 'Standard Output', 0x3C703E4120726964657220697320612066616E7461737920636865737320706965636520746861742063616E206A756D70206C696B652061206B6E69676874207365766572616C2074696D657320696E20612073696E676C65206D6F76652E204120726964657220746861742063616E20706572666F726D2061206D6178696D756D206F66203C7374726F6E673E4B3C2F7374726F6E673E206A756D707320647572696E6720612073696E676C65206D6F76652069732064656E6F7465642061732061203C7374726F6E673E4B3C2F7374726F6E673E2D72696465722E20466F72206578616D706C652C206120322D72696465722063616E206A756D70206F6E6365206F7220747769636520647572696E6720612073696E676C65206D6F76652C20616E64206120312D7269646572206973206120747261646974696F6E616C206B6E696768742E3C2F703E0D0A3C703E54686572652061726520736F6D6520726964657273206F6620646966666572656E74207479706573206F6E2061206368657373626F6172642E20596F752061726520676976656E206120324420626F61726420726570726573656E74696E6720746865206C61796F7574206F6620746865207069656365732E20546865203C7374726F6E673E6A3C7375703E74683C2F7375703E3C2F7374726F6E673E20636861726163746572206F6620746865203C7374726F6E673E693C7375703E74683C2F7375703E3C2F7374726F6E673E20656C656D656E74206F6620626F6172642069732074686520636F6E74656E74206F66207468652073717561726520617420726F77203C7374726F6E673E693C2F7374726F6E673E2C20636F6C756D6E203C7374726F6E673E6A3C2F7374726F6E673E2E20496620746865206368617261637465722069732061206469676974203C7374726F6E673E4B3C2F7374726F6E673E206265747765656E203C7374726F6E673E2731273C2F7374726F6E673E20616E64203C7374726F6E673E2739273C2F7374726F6E673E2C207468652073717561726520636F6E7461696E732061203C7374726F6E673E4B3C2F7374726F6E673E2D72696465722E204F74686572776973652C20696620746865206368617261637465722069732061203C7374726F6E673E272E273C2F7374726F6E673E2C207468652073717561726520697320656D7074792E2046696E6420746865206D696E696D616C20746F74616C206E756D626572206F66206D6F766573206E656365737361727920746F206D6F766520616C6C207468652072696465727320746F207468652073616D65207371756172652E204F6E6C79206F6E652070696563652063616E206D6F766520647572696E672065616368206D6F76652E204D756C7469706C65207269646572732063616E207368617265207468652073616D65207371756172657320616C6C2074696D657320647572696E67207468652070726F636573732E205072696E74203C7374726F6E673E2D313C2F7374726F6E673E20696620697420697320696D706F737369626C652E3C2F703E0D0A3C703E4120747261646974696F6E616C206B6E696768742068617320757020746F203C7374726F6E673E383C2F7374726F6E673E206D6F7665732066726F6D206120737175617265207769746820636F6F7264696E61746573203C7374726F6E673E28782C2079293C2F7374726F6E673E20746F2073717561726573203C7374726F6E673E28782B312C20792B32292C2028782B312C20792D32292C2028782B322C20792B31292C2028782B322C20792D31292C2028782D312C20792B32292C2028782D312C20792D32292C2028782D322C20792B31292C2028782D322C20792D31293C2F7374726F6E673E2C20616E642063616E2774206D6F7665206F75747369646520746865206368657373626F6172642E203C2F703E, 0x3C703E496E70757420737461727473207769746820616E20696E7465676572203C7374726F6E673E5420283C2F7374726F6E673E3C7374726F6E673E266C653B20313030293C2F7374726F6E673E2C2064656E6F74696E6720746865206E756D626572206F6620746573742063617365732E3C2F703E0D0A3C703E45616368206361736520626567696E732077697468206120626C616E6B206C696E6520616E642074776F20696E746567657273203C7374726F6E673E6D2C206E20283120266C653B206D2C206E20266C653B203130293C2F7374726F6E673E2064656E6F74696E672074686520726F777320616E642074686520636F6C756D6E73206F662074686520626F61726420726573706563746976656C792E2045616368206F6620746865206E657874203C7374726F6E673E6D3C2F7374726F6E673E206C696E65732077696C6C20636F6E7461696E203C7374726F6E673E6E3C2F7374726F6E673E20696E74656765727320656163682064656E6F74696E672074686520626F6172642E3C2F703E, 0x3C703E466F7220656163682063617365206F6620696E70757420796F75206861766520746F207072696E74207468652063617365206E756D62657220746865206465736972656420726573756C742E3C2F703E, '4\r\n\r\n3 2\r\n..\r\n2.\r\n..\r\n\r\n3 3\r\n1.1\r\n...\r\n..1\r\n\r\n10 10\r\n..........\r\n.2....2...\r\n......2...\r\n1.........\r\n...2.1....\r\n...1......\r\n..........\r\n.......21.\r\n..........\r\n..........\r\n\r\n1 4\r\n1..1', 'Case 1: 0\r\nCase 2: 4\r\nCase 3: 14\r\nCase 4: -1', null, '2015-11-21 20:49:08', 0x340D0A0D0A3320320D0A2E2E0D0A322E0D0A2E2E0D0A0D0A3320330D0A312E310D0A2E2E2E0D0A2E2E310D0A0D0A31302031300D0A2E2E2E2E2E2E2E2E2E2E0D0A2E322E2E2E2E322E2E2E0D0A2E2E2E2E2E2E322E2E2E0D0A312E2E2E2E2E2E2E2E2E0D0A2E2E2E322E312E2E2E2E0D0A2E2E2E312E2E2E2E2E2E0D0A2E2E2E2E2E2E2E2E2E2E0D0A2E2E2E2E2E2E2E32312E0D0A2E2E2E2E2E2E2E2E2E2E0D0A2E2E2E2E2E2E2E2E2E2E0D0A0D0A3120340D0A312E2E31, 0x4361736520313A20300D0A4361736520323A20340D0A4361736520333A2031340D0A4361736520343A202D31, '0', '', 'Jane Alam Jan', '0', '0');
INSERT INTO `problem` VALUES ('3', 'LightOJ 1107 - How Cow', null, '2000', '32768', 'Standard Input', 'Standard Output', 0x3C703E4D72204B6F70612053616D73752069732061206661726D65722E204865206861732061206C616E64206F662072656374616E67756C61722073686170652E204275742074686572652061726520636F7773207468617420646973747572622068696D2061206C6F742E2054686520636F77732075736520746F20656E74657220686973206C616E6420616E64207275696E206869732063726F70732E204E6F77204D72204B6F70612053616D737520686173206265636F6D6520736D61727465722E204865206861732061204750532073797374656D20746861742077696C6C2068656C702068696D20746F206B6E6F772074686520706F736974696F6E206F662074686520636F77732E20536F2C20796F752063616E207468696E6B20686973206C616E64206173206120324420677269642C20616E6420636F77732063616E206265207472656174656420617320706F696E74732E204E6F7720796F752061726520676976656E2074686520696E666F726D6174696F6E206F6620686973206C616E6420616E6420636F77732E20596F75206861766520746F2074656C6C2068696D2077686574686572206120636F7720697320696E7369646520686973206C616E64206F72206E6F742E3C2F703E, 0x3C703E496E70757420737461727473207769746820616E20696E7465676572203C7374726F6E673E5420283C2F7374726F6E673E3C7374726F6E673E266C653B203530293C2F7374726F6E673E2C2064656E6F74696E6720746865206E756D626572206F6620746573742063617365732E3C2F703E0D0A3C703E546865206669727374206C696E65206F662065616368206361736520636F6E7461696E7320666F757220696E746567657273203C7374726F6E673E783C7375623E313C2F7375623E20793C7375623E313C2F7375623E20783C7375623E323C2F7375623E20793C7375623E323C2F7375623E3C2F7374726F6E673E2C207768657265203C7374726F6E673E28783C7375623E313C2F7375623E2C20793C7375623E313C2F7375623E293C2F7374726F6E673E20697320746865206C6F776572206C65667420636F6F7264696E617465206F6620686973206C616E6420616E64203C7374726F6E673E28783C7375623E323C2F7375623E2C20793C7375623E323C2F7375623E293C2F7374726F6E673E2069732074686520757070657220726967687420636F6F7264696E617465206F6620686973206C616E642E20596F752063616E20617373756D65207468617420746865207369646573206F6620746865206C616E6420617265206178697320706172616C6C656C2E20546865206E657874206C696E6520636F6E7461696E7320616E20696E7465676572203C7374726F6E673E4D20283120266C653B204D20266C653B20313030293C2F7374726F6E673E2064656E6F74696E6720746865206E756D626572206F6620636F77732E2045616368206F6620746865206E657874203C7374726F6E673E4D3C2F7374726F6E673E206C696E657320636F6E7461696E732074776F20696E74656765727320656163682064656E6F74696E67203C7374726F6E673E7820793C2F7374726F6E673E202D2074686520706F736974696F6E206F66206120636F772E20596F752063616E20736166656C7920617373756D652074686174206E6F20636F772077696C6C206C6965206F6E2074686520626F756E64617279206F66207468652072656374616E676C652E20416C6C2074686520636F6F7264696E617465732077696C6C206C696520696E207468652072616E6765203C7374726F6E673E5B302C2031303030305D3C2F7374726F6E673E2E3C2F703E, 0x3C703E466F722065616368206361736520796F75206861766520746F207072696E74207468652063617365206E756D62657220696E2061206C696E652066697273742E205468656E20666F72206561636820636F772C20796F75206861766520746F207072696E74203C7374726F6E673E27596573273C2F7374726F6E673E206F72203C7374726F6E673E274E6F273C2F7374726F6E673E20646570656E64696E6720776865746865722074686520636F7720697320696E7369646520746865206C616E64206F72206E6F742E3C2F703E, '1\r\n1 2 8 10\r\n7\r\n0 0\r\n5 6\r\n1 0\r\n7 9\r\n3 5\r\n10 10\r\n1 11', 'Case 1:\r\nNo\r\nYes\r\nNo\r\nYes\r\nYes\r\nNo\r\nNo', null, '2015-11-21 21:31:51', 0x310D0A31203220382031300D0A370D0A3020300D0A3520360D0A3120300D0A3720390D0A3320350D0A31302031300D0A31203131, 0x4361736520313A0D0A4E6F0D0A5965730D0A4E6F0D0A5965730D0A5965730D0A4E6F0D0A4E6F, '0', '', 'Jane Alam Jan', '0', '0');
INSERT INTO `problem` VALUES ('4', 'LightOJ 1022 - Circle in Square ', null, '500', '32768', 'Standard Input', 'Standard Output', 0x3C703E4120636972636C6520697320706C6163656420706572666563746C7920696E746F2061207371756172652E20546865207465726D20706572666563746C7920706C61636564206D65616E73207468617420656163682073696465206F66207468652073717561726520697320746F75636865642062792074686520636972636C652C206275742074686520636972636C6520646F65736E2774206861766520616E79206F7665726C617070696E672070617274207769746820746865207371756172652E205365652074686520706963747572652062656C6F772E3C2F703E0D0A3C703E4E6F7720796F752061726520676976656E2074686520726164697573206F662074686520636972636C652E20596F75206861766520746F2066696E64207468652061726561206F66207468652073686164656420726567696F6E2028626C75652070617274292E20417373756D652074686174203C7374726F6E673E7069203D2032202A2061636F732028302E3029202861636F73206D65616E7320636F7320696E7665727365293C2F7374726F6E673E2E3C2F703E, 0x3C703E496E70757420737461727473207769746820616E20696E7465676572203C7374726F6E673E5420283C2F7374726F6E673E3C7374726F6E673E266C653B2031303030293C2F7374726F6E673E2C2064656E6F74696E6720746865206E756D626572206F6620746573742063617365732E3C2F703E0D0A3C703E45616368206361736520636F6E7461696E73206120666C6F6174696E6720706F696E74206E756D626572203C7374726F6E673E7220283020266C743B207220266C653B2031303030293C2F7374726F6E673E2064656E6F74696E672074686520726164697573206F662074686520636972636C652E20416E6420796F752063616E20617373756D652074686174203C7374726F6E673E723C2F7374726F6E673E20636F6E7461696E73206174206D6F737420666F7572206469676974732061667465722074686520646563696D616C20706F696E742E3C2F703E, 0x3C703E466F72206561636820636173652C207072696E74207468652063617365206E756D62657220616E642074686520736861646564206172656120726F756E64656420746F2074776F20706C616365732061667465722074686520646563696D616C20706F696E742E3C2F703E, '3\r\n20\r\n30.091\r\n87.0921', 'Case 1: 343.36\r\nCase 2: 777.26\r\nCase 3: 6511.05', '8741ca15289e070b4f2eba2be4b03fad.png', '2015-11-21 21:34:46', 0x330D0A32300D0A33302E3039310D0A38372E30393231, 0x4361736520313A203334332E33360D0A4361736520323A203737372E32360D0A4361736520333A20363531312E3035, '0', '<p>This problem doesn\'t have special judge. So, be careful about precision problems. Better to add a small value to your result to avoid precision problems. For example, add <strong>10<sup>-9</sup></strong> to your result.</p>', 'Jane Alam Jan', '0', '0');

-- ----------------------------
-- Table structure for `rank`
-- ----------------------------
DROP TABLE IF EXISTS `rank`;
CREATE TABLE `rank` (
  `rank_id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `contest_id` int(10) unsigned NOT NULL,
  `user_id` int(10) unsigned NOT NULL,
  `rank_details` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `rank_solved` tinyint(4) NOT NULL DEFAULT '0',
  `rank_penalty` int(11) NOT NULL DEFAULT '0',
  `rank_disqualified` tinyint(2) DEFAULT NULL,
  PRIMARY KEY (`rank_id`),
  KEY `rank_contest_FK1` (`contest_id`),
  KEY `rank_user_FK2` (`user_id`),
  CONSTRAINT `rank_contest_FK1` FOREIGN KEY (`contest_id`) REFERENCES `contest` (`contest_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `rank_user_FK2` FOREIGN KEY (`user_id`) REFERENCES `user` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- ----------------------------
-- Records of rank
-- ----------------------------

-- ----------------------------
-- Table structure for `submission`
-- ----------------------------
DROP TABLE IF EXISTS `submission`;
CREATE TABLE `submission` (
  `submission_id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `problem_id` int(10) unsigned NOT NULL,
  `user_id` int(10) unsigned NOT NULL,
  `contest_id` int(10) unsigned DEFAULT NULL,
  `submission_source` blob NOT NULL,
  `submission_type` tinyint(4) NOT NULL DEFAULT '0',
  `submission_time` datetime NOT NULL,
  `submission_status` tinyint(4) NOT NULL DEFAULT '1',
  `submission_result` tinyint(2) DEFAULT NULL,
  `language_id` int(10) unsigned NOT NULL,
  PRIMARY KEY (`submission_id`),
  KEY `sub_prob_FK1` (`problem_id`),
  KEY `sub_user_FK2` (`user_id`),
  KEY `sub_cont_FK3` (`contest_id`),
  KEY `sub_lang_FK4` (`language_id`),
  CONSTRAINT `sub_cont_FK3` FOREIGN KEY (`contest_id`) REFERENCES `contest` (`contest_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `sub_lang_FK4` FOREIGN KEY (`language_id`) REFERENCES `language` (`language_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `sub_prob_FK1` FOREIGN KEY (`problem_id`) REFERENCES `problem` (`problem_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `sub_user_FK2` FOREIGN KEY (`user_id`) REFERENCES `user` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- ----------------------------
-- Records of submission
-- ----------------------------

-- ----------------------------
-- Table structure for `user`
-- ----------------------------
DROP TABLE IF EXISTS `user`;
CREATE TABLE `user` (
  `user_id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `user_handle` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `user_pass` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `user_name` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `user_email` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `user_phone` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,
  `user_type` tinyint(2) NOT NULL DEFAULT '0',
  PRIMARY KEY (`user_id`,`user_handle`,`user_email`),
  KEY `user_id` (`user_id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

-- ----------------------------
-- Records of user
-- ----------------------------
INSERT INTO `user` VALUES ('1', 'user', 'ee11cbb19052e40b07aac0ca060c23ee', 'Test User', 'test@user.com', '1234567890', '0');

-- ----------------------------
-- View structure for `prob_for_display`
-- ----------------------------
DROP VIEW IF EXISTS `prob_for_display`;
CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `prob_for_display` AS select `problem`.`problem_id` AS `problem_id`,`problem`.`problem_name` AS `problem_name`,`problem`.`problem_level` AS `problem_level`,`problem`.`problem_time_limit` AS `problem_time_limit`,`problem`.`problem_memory_limit` AS `problem_memory_limit`,`problem`.`problem_input_channel` AS `problem_input_channel`,`problem`.`problem_output_channel` AS `problem_output_channel`,`problem`.`problem_description` AS `problem_description`,`problem`.`problem_input` AS `problem_input`,`problem`.`problem_output` AS `problem_output`,`problem`.`problem_sample_input` AS `problem_sample_input`,`problem`.`problem_sample_output` AS `problem_sample_output`,`problem`.`problem_image` AS `problem_image`,`problem`.`problem_add_date` AS `problem_add_date`,`problem`.`problem_io_type` AS `problem_io_type`,`problem`.`problem_hint` AS `problem_hint`,`problem`.`problem_setter` AS `problem_setter`,`problem`.`problem_status` AS `problem_status`,`problem`.`problem_special_judge` AS `problem_special_judge` from `problem` ;
